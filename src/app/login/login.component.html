<div class="login-container">
    <section
        class="login-form-section"
        aria-label="Formulario de inicio de sesión de Geographia"
    >
        <header class="header">
            <!--<img src="logo.png" alt="Logo de Geographia" class="logo" />-->
            <div class="company-name" tabindex="0" (click)="goToMap()">
                GEOGRAPHIA
            </div>
        </header>

        <div class="form-content">
            <h2 class="title" tabindex="0">Inicio</h2>
            <p class="subtitle" tabindex="0">
                Iniciando sesión estás aceptando nuestros
                <a
                    href="#"
                    target="_blank"
                    rel="noopener noreferrer"
                    aria-describedby="terms-desc"
                    >Términos y Políticas de Privacidad</a
                >
            </p>
            <span id="terms-desc" class="sr-only"
                >Se abrirá en una nueva ventana</span
            >

            <nav
                class="tab-switch"
                role="tablist"
                aria-label="Navegación entre Inicio y Registro"
            >
                <span
                    class="active"
                    role="tab"
                    aria-selected="true"
                    tabindex="-1"
                >
                    Inicio
                </span>
                <span
                    class="inactive"
                    role="tab"
                    aria-selected="false"
                    tabindex="0"
                    (click)="goToRegister()"
                    (keydown.enter)="goToRegister()"
                >
                    Registro
                </span>
            </nav>

            <form
                aria-label="Formulario de inicio"
                [formGroup]="loginForm"
                (ngSubmit)="onSubmit()"
            >
                <div class="wrapper">
                    <label for="email" class="sr-only"
                        >Correo Electrónico</label
                    >
                    <span class="material-symbols-outlined" aria-hidden="true"
                        >mail</span
                    >
                    <input
                        id="email"
                        type="email"
                        placeholder="Correo Electrónico"
                        required
                        autocomplete="email"
                        aria-required="true"
                        formControlName="email"
                    />
                </div>
                <div
                    *ngIf="
                        loginForm.get('email')?.touched &&
                        loginForm.get('email')?.invalid
                    "
                    class="error"
                    role="alert"
                    tabindex="0"
                >
                    <div *ngIf="loginForm.get('email')?.errors?.['required']">
                        Este campo es obligatorio.
                    </div>
                    <div *ngIf="loginForm.get('email')?.errors?.['email']">
                        Debe ser un correo electrónico válido.
                    </div>
                </div>

                <div>
                    <div class="wrapper">
                        <label for="password" class="sr-only">Contraseña</label>
                        <span
                            class="material-symbols-outlined"
                            aria-hidden="true"
                            >lock</span
                        >
                        <input
                            id="password"
                            [type]="showPassword ? 'text' : 'password'"
                            placeholder="Contraseña"
                            required
                            aria-required="true"
                            autocomplete="new-password"
                            formControlName="password"
                        />
                        <button
                            type="button"
                            class="toggle-password"
                            [attr.aria-pressed]="showPassword"
                            [attr.aria-label]="
                                showPassword
                                    ? 'Ocultar contraseña'
                                    : 'Mostrar contraseña'
                            "
                            (click)="togglePassword()"
                        >
                            <span class="material-symbols-outlined">
                                {{
                                    showPassword
                                        ? "visibility_off"
                                        : "visibility"
                                }}
                            </span>
                        </button>
                    </div>
                    <div
                        *ngIf="
                            loginForm.get('password')?.touched &&
                            loginForm.get('password')?.invalid
                        "
                        class="error"
                        role="alert"
                        tabindex="0"
                    >
                        <div
                            *ngIf="loginForm.get('password')?.errors?.['required']"
                        >
                            Este campo es obligatorio.
                        </div>
                    </div>
                </div>

                <div class="options">
                    <input
                        id="remember"
                        name="remember"
                        type="checkbox"
                        formControlName="remember"
                        aria-label="Recordar Contraseña"
                    />
                    <label for="remember">Recordar contraseña</label>
                </div>

                <a
                    target="_blank"
                    rel="noopener noreferrer"
                    class="forgot-password"
                    href="/recover-password"
                    >¿Has olvidado tu contraseña?</a
                >

                <button type="submit" class="button login-button">
                    Iniciar
                </button>
            </form>
        </div>
    </section>

    <section class="login-image-section" aria-hidden="true">
        <img src="/map.jpeg" alt="Mapa geográfico como imagen decorativa" />
    </section>
</div>
